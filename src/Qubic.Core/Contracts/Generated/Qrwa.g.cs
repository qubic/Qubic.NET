// <auto-generated>
// Generated by Qubic.ContractGen from qRWA.h.
// Do not edit manually. Re-run the generator after updating deps/qubic-core.
// </auto-generated>

using System.Buffers.Binary;
using Qubic.Core.Contracts;
using Qubic.Core.Payloads;

namespace Qubic.Core.Contracts.Qrwa;

/// <summary>Qrwa contract (index 20).</summary>
public static class QrwaContract
{
    /// <summary>Contract index on the Qubic network.</summary>
    public const int ContractIndex = 20;

    /// <summary>Gets the 32-byte contract public key.</summary>
    public static byte[] GetPublicKey() => QubicContracts.GetContractPublicKey(ContractIndex);

    /// <summary>Read-only query function IDs.</summary>
    public static class Functions
    {
        /// <summary>GetGovParams (inputType=1).</summary>
        public const uint GetGovParams = 1;
        /// <summary>GetGovPoll (inputType=2).</summary>
        public const uint GetGovPoll = 2;
        /// <summary>GetAssetReleasePoll (inputType=3).</summary>
        public const uint GetAssetReleasePoll = 3;
        /// <summary>GetTreasuryBalance (inputType=4).</summary>
        public const uint GetTreasuryBalance = 4;
        /// <summary>GetDividendBalances (inputType=5).</summary>
        public const uint GetDividendBalances = 5;
        /// <summary>GetTotalDistributed (inputType=6).</summary>
        public const uint GetTotalDistributed = 6;
        /// <summary>GetActiveAssetReleasePollIds (inputType=7).</summary>
        public const uint GetActiveAssetReleasePollIds = 7;
        /// <summary>GetActiveGovPollIds (inputType=8).</summary>
        public const uint GetActiveGovPollIds = 8;
        /// <summary>GetGeneralAssetBalance (inputType=9).</summary>
        public const uint GetGeneralAssetBalance = 9;
        /// <summary>GetGeneralAssets (inputType=10).</summary>
        public const uint GetGeneralAssets = 10;
    }

    /// <summary>State-mutating procedure IDs.</summary>
    public static class Procedures
    {
        /// <summary>DonateToTreasury (inputType=3).</summary>
        public const uint DonateToTreasury = 3;
        /// <summary>VoteGovParams (inputType=4).</summary>
        public const uint VoteGovParams = 4;
        /// <summary>CreateAssetReleasePoll (inputType=5).</summary>
        public const uint CreateAssetReleasePoll = 5;
        /// <summary>VoteAssetRelease (inputType=6).</summary>
        public const uint VoteAssetRelease = 6;
        /// <summary>DepositGeneralAsset (inputType=7).</summary>
        public const uint DepositGeneralAsset = 7;
        /// <summary>RevokeAssetManagementRights (inputType=8).</summary>
        public const uint RevokeAssetManagementRights = 8;
    }
}

// ═══ Function: GetGovParams (inputType=1) ═══

/// <summary>Input for query.</summary>
public readonly struct GetGovParamsInput : ISmartContractInput
{
    public const int Size = 0;

    public int SerializedSize => Size;

    public byte[] Params { get; init; }

    public byte[] ToBytes()
    {
        var bytes = new byte[Size];
        // TODO: serialize unknown type QRWAGovParams for Params
        return bytes;
    }
}

/// <summary>Output (empty).</summary>
public readonly struct GetGovParamsOutput : ISmartContractOutput<GetGovParamsOutput>
{
    public static GetGovParamsOutput FromBytes(ReadOnlySpan<byte> data) => new();
}

// ═══ Function: GetGovPoll (inputType=2) ═══

/// <summary>Input for query.</summary>
public readonly struct GetGovPollInput : ISmartContractInput
{
    public const int Size = 8;

    public int SerializedSize => Size;

    public ulong ProposalId { get; init; }

    public byte[] ToBytes()
    {
        var bytes = new byte[Size];
        BinaryPrimitives.WriteUInt64LittleEndian(bytes.AsSpan(0), ProposalId);
        return bytes;
    }
}

/// <summary>Output.</summary>
public readonly struct GetGovPollOutput : ISmartContractOutput<GetGovPollOutput>
{
    public byte[] Proposal { get; init; }
    public ulong Status { get; init; }

    public static GetGovPollOutput FromBytes(ReadOnlySpan<byte> data)
    {
        return new GetGovPollOutput
        {
            Proposal = [] /* unknown type QRWAGovProposal */,
            Status = BinaryPrimitives.ReadUInt64LittleEndian(data[0..])
        };
    }
}

// ═══ Function: GetAssetReleasePoll (inputType=3) ═══

/// <summary>Input for query.</summary>
public readonly struct GetAssetReleasePollInput : ISmartContractInput
{
    public const int Size = 8;

    public int SerializedSize => Size;

    public ulong ProposalId { get; init; }

    public byte[] ToBytes()
    {
        var bytes = new byte[Size];
        BinaryPrimitives.WriteUInt64LittleEndian(bytes.AsSpan(0), ProposalId);
        return bytes;
    }
}

/// <summary>Output.</summary>
public readonly struct GetAssetReleasePollOutput : ISmartContractOutput<GetAssetReleasePollOutput>
{
    public byte[] Proposal { get; init; }
    public ulong Status { get; init; }

    public static GetAssetReleasePollOutput FromBytes(ReadOnlySpan<byte> data)
    {
        return new GetAssetReleasePollOutput
        {
            Proposal = [] /* unknown type AssetReleaseProposal */,
            Status = BinaryPrimitives.ReadUInt64LittleEndian(data[0..])
        };
    }
}

// ═══ Function: GetTreasuryBalance (inputType=4) ═══

/// <summary>Input for query.</summary>
public readonly struct GetTreasuryBalanceInput : ISmartContractInput
{
    public const int Size = 8;

    public int SerializedSize => Size;

    public ulong Balance { get; init; }

    public byte[] ToBytes()
    {
        var bytes = new byte[Size];
        BinaryPrimitives.WriteUInt64LittleEndian(bytes.AsSpan(0), Balance);
        return bytes;
    }
}

/// <summary>Output (empty).</summary>
public readonly struct GetTreasuryBalanceOutput : ISmartContractOutput<GetTreasuryBalanceOutput>
{
    public static GetTreasuryBalanceOutput FromBytes(ReadOnlySpan<byte> data) => new();
}

// ═══ Function: GetDividendBalances (inputType=5) ═══

/// <summary>Input for query.</summary>
public readonly struct GetDividendBalancesInput : ISmartContractInput
{
    public const int Size = 32;

    public int SerializedSize => Size;

    public ulong RevenuePoolA { get; init; }
    public ulong RevenuePoolB { get; init; }
    public ulong QmineDividendPool { get; init; }
    public ulong QrwaDividendPool { get; init; }

    public byte[] ToBytes()
    {
        var bytes = new byte[Size];
        BinaryPrimitives.WriteUInt64LittleEndian(bytes.AsSpan(0), RevenuePoolA);
        BinaryPrimitives.WriteUInt64LittleEndian(bytes.AsSpan(8), RevenuePoolB);
        BinaryPrimitives.WriteUInt64LittleEndian(bytes.AsSpan(16), QmineDividendPool);
        BinaryPrimitives.WriteUInt64LittleEndian(bytes.AsSpan(24), QrwaDividendPool);
        return bytes;
    }
}

/// <summary>Output (empty).</summary>
public readonly struct GetDividendBalancesOutput : ISmartContractOutput<GetDividendBalancesOutput>
{
    public static GetDividendBalancesOutput FromBytes(ReadOnlySpan<byte> data) => new();
}

// ═══ Function: GetTotalDistributed (inputType=6) ═══

/// <summary>Input for query.</summary>
public readonly struct GetTotalDistributedInput : ISmartContractInput
{
    public const int Size = 16;

    public int SerializedSize => Size;

    public ulong TotalQmineDistributed { get; init; }
    public ulong TotalQRWADistributed { get; init; }

    public byte[] ToBytes()
    {
        var bytes = new byte[Size];
        BinaryPrimitives.WriteUInt64LittleEndian(bytes.AsSpan(0), TotalQmineDistributed);
        BinaryPrimitives.WriteUInt64LittleEndian(bytes.AsSpan(8), TotalQRWADistributed);
        return bytes;
    }
}

/// <summary>Output (empty).</summary>
public readonly struct GetTotalDistributedOutput : ISmartContractOutput<GetTotalDistributedOutput>
{
    public static GetTotalDistributedOutput FromBytes(ReadOnlySpan<byte> data) => new();
}

// ═══ Function: GetActiveAssetReleasePollIds (inputType=7) ═══

/// <summary>Input for query.</summary>
public readonly struct GetActiveAssetReleasePollIdsInput : ISmartContractInput
{
    public const int Size = 8;

    public int SerializedSize => Size;

    public ulong Count { get; init; }
    public ulong[] Ids { get; init; }

    public byte[] ToBytes()
    {
        var bytes = new byte[Size];
        BinaryPrimitives.WriteUInt64LittleEndian(bytes.AsSpan(0), Count);
        for (int i = 0; i < 0 && Ids != null && i < Ids.Length; i++)
        {
            BinaryPrimitives.WriteUInt64LittleEndian(bytes.AsSpan(8 + i * 8), Ids[i]);
        }
        return bytes;
    }
}

/// <summary>Output (empty).</summary>
public readonly struct GetActiveAssetReleasePollIdsOutput : ISmartContractOutput<GetActiveAssetReleasePollIdsOutput>
{
    public static GetActiveAssetReleasePollIdsOutput FromBytes(ReadOnlySpan<byte> data) => new();
}

// ═══ Function: GetActiveGovPollIds (inputType=8) ═══

/// <summary>Input for query.</summary>
public readonly struct GetActiveGovPollIdsInput : ISmartContractInput
{
    public const int Size = 8;

    public int SerializedSize => Size;

    public ulong Count { get; init; }
    public ulong[] Ids { get; init; }

    public byte[] ToBytes()
    {
        var bytes = new byte[Size];
        BinaryPrimitives.WriteUInt64LittleEndian(bytes.AsSpan(0), Count);
        for (int i = 0; i < 0 && Ids != null && i < Ids.Length; i++)
        {
            BinaryPrimitives.WriteUInt64LittleEndian(bytes.AsSpan(8 + i * 8), Ids[i]);
        }
        return bytes;
    }
}

/// <summary>Output (empty).</summary>
public readonly struct GetActiveGovPollIdsOutput : ISmartContractOutput<GetActiveGovPollIdsOutput>
{
    public static GetActiveGovPollIdsOutput FromBytes(ReadOnlySpan<byte> data) => new();
}

// ═══ Function: GetGeneralAssetBalance (inputType=9) ═══

/// <summary>Input for query.</summary>
public readonly struct GetGeneralAssetBalanceInput : ISmartContractInput
{
    public const int Size = 40;

    public int SerializedSize => Size;

    public required QubicAsset Asset { get; init; }

    public byte[] ToBytes()
    {
        var bytes = new byte[Size];
        Asset.WriteTo(bytes.AsSpan(0));
        return bytes;
    }
}

/// <summary>Output.</summary>
public readonly struct GetGeneralAssetBalanceOutput : ISmartContractOutput<GetGeneralAssetBalanceOutput>
{
    public ulong Balance { get; init; }
    public ulong Status { get; init; }

    public static GetGeneralAssetBalanceOutput FromBytes(ReadOnlySpan<byte> data)
    {
        return new GetGeneralAssetBalanceOutput
        {
            Balance = BinaryPrimitives.ReadUInt64LittleEndian(data[0..]),
            Status = BinaryPrimitives.ReadUInt64LittleEndian(data[8..])
        };
    }
}

// ═══ Function: GetGeneralAssets (inputType=10) ═══

/// <summary>Input for query.</summary>
public readonly struct GetGeneralAssetsInput : ISmartContractInput
{
    public const int Size = 49160;

    public int SerializedSize => Size;

    public ulong Count { get; init; }
    public required QubicAsset[] Assets { get; init; }
    public ulong[] Balances { get; init; }

    public byte[] ToBytes()
    {
        var bytes = new byte[Size];
        BinaryPrimitives.WriteUInt64LittleEndian(bytes.AsSpan(0), Count);
        for (int i = 0; i < 1024 && Assets != null && i < Assets.Length; i++)
        {
            Assets[i].WriteTo(bytes.AsSpan(8 + i * 40));
        }
        for (int i = 0; i < 1024 && Balances != null && i < Balances.Length; i++)
        {
            BinaryPrimitives.WriteUInt64LittleEndian(bytes.AsSpan(40968 + i * 8), Balances[i]);
        }
        return bytes;
    }
}

/// <summary>Output (empty).</summary>
public readonly struct GetGeneralAssetsOutput : ISmartContractOutput<GetGeneralAssetsOutput>
{
    public static GetGeneralAssetsOutput FromBytes(ReadOnlySpan<byte> data) => new();
}

// ═══ Procedure: DonateToTreasury (inputType=3) ═══

/// <summary>Input payload for procedure.</summary>
public sealed class DonateToTreasuryPayload : ITransactionPayload, ISmartContractInput
{
    public const int Size = 8;

    public ushort InputType => 3;
    public ushort InputSize => Size;
    public int SerializedSize => Size;

    public ulong Amount { get; init; }

    public byte[] GetPayloadBytes() => ToBytes();

    public byte[] ToBytes()
    {
        var bytes = new byte[Size];
        BinaryPrimitives.WriteUInt64LittleEndian(bytes.AsSpan(0), Amount);
        return bytes;
    }
}

/// <summary>Output.</summary>
public readonly struct DonateToTreasuryOutput : ISmartContractOutput<DonateToTreasuryOutput>
{
    public ulong Status { get; init; }

    public static DonateToTreasuryOutput FromBytes(ReadOnlySpan<byte> data)
    {
        return new DonateToTreasuryOutput
        {
            Status = BinaryPrimitives.ReadUInt64LittleEndian(data[0..])
        };
    }
}

// ═══ Procedure: VoteGovParams (inputType=4) ═══

/// <summary>Input payload for procedure.</summary>
public sealed class VoteGovParamsPayload : ITransactionPayload, ISmartContractInput
{
    public const int Size = 0;

    public ushort InputType => 4;
    public ushort InputSize => Size;
    public int SerializedSize => Size;

    public byte[] Proposal { get; init; }

    public byte[] GetPayloadBytes() => ToBytes();

    public byte[] ToBytes()
    {
        var bytes = new byte[Size];
        // TODO: serialize unknown type QRWAGovParams for Proposal
        return bytes;
    }
}

/// <summary>Output.</summary>
public readonly struct VoteGovParamsOutput : ISmartContractOutput<VoteGovParamsOutput>
{
    public ulong Status { get; init; }

    public static VoteGovParamsOutput FromBytes(ReadOnlySpan<byte> data)
    {
        return new VoteGovParamsOutput
        {
            Status = BinaryPrimitives.ReadUInt64LittleEndian(data[0..])
        };
    }
}

// ═══ Procedure: CreateAssetReleasePoll (inputType=5) ═══

/// <summary>Input payload for procedure.</summary>
public sealed class CreateAssetReleasePollPayload : ITransactionPayload, ISmartContractInput
{
    public const int Size = 112;

    public ushort InputType => 5;
    public ushort InputSize => Size;
    public int SerializedSize => Size;

    public required byte[] ProposalName { get; init; }
    public required QubicAsset Asset { get; init; }
    public ulong Amount { get; init; }
    public required byte[] Destination { get; init; }

    public byte[] GetPayloadBytes() => ToBytes();

    public byte[] ToBytes()
    {
        var bytes = new byte[Size];
        ProposalName.AsSpan(0, 32).CopyTo(bytes.AsSpan(0));
        Asset.WriteTo(bytes.AsSpan(32));
        BinaryPrimitives.WriteUInt64LittleEndian(bytes.AsSpan(72), Amount);
        Destination.AsSpan(0, 32).CopyTo(bytes.AsSpan(80));
        return bytes;
    }
}

/// <summary>Output.</summary>
public readonly struct CreateAssetReleasePollOutput : ISmartContractOutput<CreateAssetReleasePollOutput>
{
    public ulong Status { get; init; }
    public ulong ProposalId { get; init; }

    public static CreateAssetReleasePollOutput FromBytes(ReadOnlySpan<byte> data)
    {
        return new CreateAssetReleasePollOutput
        {
            Status = BinaryPrimitives.ReadUInt64LittleEndian(data[0..]),
            ProposalId = BinaryPrimitives.ReadUInt64LittleEndian(data[8..])
        };
    }
}

// ═══ Procedure: VoteAssetRelease (inputType=6) ═══

/// <summary>Input payload for procedure.</summary>
public sealed class VoteAssetReleasePayload : ITransactionPayload, ISmartContractInput
{
    public const int Size = 16;

    public ushort InputType => 6;
    public ushort InputSize => Size;
    public int SerializedSize => Size;

    public ulong ProposalId { get; init; }
    public ulong Option { get; init; }

    public byte[] GetPayloadBytes() => ToBytes();

    public byte[] ToBytes()
    {
        var bytes = new byte[Size];
        BinaryPrimitives.WriteUInt64LittleEndian(bytes.AsSpan(0), ProposalId);
        BinaryPrimitives.WriteUInt64LittleEndian(bytes.AsSpan(8), Option);
        return bytes;
    }
}

/// <summary>Output.</summary>
public readonly struct VoteAssetReleaseOutput : ISmartContractOutput<VoteAssetReleaseOutput>
{
    public ulong Status { get; init; }

    public static VoteAssetReleaseOutput FromBytes(ReadOnlySpan<byte> data)
    {
        return new VoteAssetReleaseOutput
        {
            Status = BinaryPrimitives.ReadUInt64LittleEndian(data[0..])
        };
    }
}

// ═══ Procedure: DepositGeneralAsset (inputType=7) ═══

/// <summary>Input payload for procedure.</summary>
public sealed class DepositGeneralAssetPayload : ITransactionPayload, ISmartContractInput
{
    public const int Size = 48;

    public ushort InputType => 7;
    public ushort InputSize => Size;
    public int SerializedSize => Size;

    public required QubicAsset Asset { get; init; }
    public ulong Amount { get; init; }

    public byte[] GetPayloadBytes() => ToBytes();

    public byte[] ToBytes()
    {
        var bytes = new byte[Size];
        Asset.WriteTo(bytes.AsSpan(0));
        BinaryPrimitives.WriteUInt64LittleEndian(bytes.AsSpan(40), Amount);
        return bytes;
    }
}

/// <summary>Output.</summary>
public readonly struct DepositGeneralAssetOutput : ISmartContractOutput<DepositGeneralAssetOutput>
{
    public ulong Status { get; init; }

    public static DepositGeneralAssetOutput FromBytes(ReadOnlySpan<byte> data)
    {
        return new DepositGeneralAssetOutput
        {
            Status = BinaryPrimitives.ReadUInt64LittleEndian(data[0..])
        };
    }
}

// ═══ Procedure: RevokeAssetManagementRights (inputType=8) ═══

/// <summary>Input payload for procedure.</summary>
public sealed class RevokeAssetManagementRightsPayload : ITransactionPayload, ISmartContractInput
{
    public const int Size = 48;

    public ushort InputType => 8;
    public ushort InputSize => Size;
    public int SerializedSize => Size;

    public required QubicAsset Asset { get; init; }
    public long NumberOfShares { get; init; }

    public byte[] GetPayloadBytes() => ToBytes();

    public byte[] ToBytes()
    {
        var bytes = new byte[Size];
        Asset.WriteTo(bytes.AsSpan(0));
        BinaryPrimitives.WriteInt64LittleEndian(bytes.AsSpan(40), NumberOfShares);
        return bytes;
    }
}

/// <summary>Output.</summary>
public readonly struct RevokeAssetManagementRightsOutput : ISmartContractOutput<RevokeAssetManagementRightsOutput>
{
    public long TransferredNumberOfShares { get; init; }
    public ulong Status { get; init; }

    public static RevokeAssetManagementRightsOutput FromBytes(ReadOnlySpan<byte> data)
    {
        return new RevokeAssetManagementRightsOutput
        {
            TransferredNumberOfShares = BinaryPrimitives.ReadInt64LittleEndian(data[0..]),
            Status = BinaryPrimitives.ReadUInt64LittleEndian(data[8..])
        };
    }
}
